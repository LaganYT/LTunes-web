<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Audio Editor</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="container">
      <h1>Audio Editor</h1>
      <div class="controls">
        <input type="file" id="input-audio" accept="audio/*">
        <button id="play-button">Play</button>
        <button id="pause-button">Pause</button>
        <button id="trim-button">Trim</button>
        <a id="download-button" href="#" download>Download</a>
      </div>
      <audio id="audio-player"></audio>
    </div>
    <style>
      .container {
  width: 100%;
  max-width: 500px;
  margin: 0 auto;
  padding: 20px;
  text-align: center;
}

.controls {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

button {
  margin: 0 10px;
  padding: 10px;
  border-radius: 5px;
  background-color: #4CAF50;
  color: #fff;
  border: none;
  cursor: pointer;
}

a {
  margin: 0 10px;
  padding: 10px;
  border-radius: 5px;
  background-color: #4CAF50;
  color: #fff;
  text-decoration: none;
}

a:hover {
  background-color: #3e8e41;
}
    </style>
    <script>
    const audioPlayer = document.getElementById('audio-player');
const playButton = document.getElementById('play-button');
const pauseButton = document.getElementById('pause-button');
const trimButton = document.getElementById('trim-button');
const downloadButton = document.getElementById('download-button');
const inputAudio = document.getElementById('input-audio');

let audioCtx, audioSource, audioBuffer;

inputAudio.addEventListener('change', function() {
  const file = this.files[0];
  const reader = new FileReader();

  reader.onload = function(e) {
    const audioData = e.target.result;

    audioCtx = new AudioContext();
    audioCtx.decodeAudioData(audioData, function(buffer) {
      audioBuffer = buffer;
      playButton.disabled = false;
      trimButton.disabled = false;
    });
  }

  reader.readAsArrayBuffer(file);
});

playButton.addEventListener('click', function() {
  audioSource = audioCtx.createBufferSource();
  audioSource.buffer = audioBuffer;
  audioSource.connect(audioCtx.destination);
  audioSource.start(0);
  playButton.disabled = true;
  pauseButton.disabled = false;
});

pauseButton.addEventListener('click', function() {
  audioSource.stop();
  playButton.disabled = false;
  pauseButton.disabled = true;
});

trimButton.addEventListener('click', function() {
  const startTime = prompt("Enter start time (in seconds):");
  const endTime = prompt("Enter end time (in seconds):");

  const startSample = startTime * audioCtx.sampleRate;
  const endSample = endTime * audioCtx.sampleRate;
  const duration = endSample - startSample;
  const trimmedBuffer = audioCtx.createBuffer(audioBuffer.numberOfChannels, duration, audioBuffer.sampleRate);
  let channelData = [];
for (let c = 0; c < audioBuffer.numberOfChannels; c++) {
  channelData[c] = audioBuffer.getChannelData(c).slice(startSample, endSample);
  trimmedBuffer.getChannelData(c).set(channelData[c]);
}

audioBuffer = trimmedBuffer;
audioSource.buffer = audioBuffer;
playButton.disabled = false;
pauseButton.disabled = true;
downloadButton.href = URL.createObjectURL(new Blob([audioData], {type: "audio/wav"}));
downloadButton.download = "trimmed-audio.wav";
downloadButton.style.display = "inline-block";
});
    </script>
  </body>
</html>
